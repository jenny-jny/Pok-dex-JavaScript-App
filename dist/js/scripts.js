let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150";function n(){let e=document.createElement("div");e.classList.add("loading-message-container");let t=document.createElement("p");t.classList.add("loading-message"),t.innerText="Loading...";let n=document.querySelector("main"),i=document.querySelector(".pokemon-list");e.appendChild(t),n.insertBefore(e,i)}function i(){let e=document.querySelector(".loading-message");e.parentElement.removeChild(e)}function o(t){if("object"==typeof t&&null!==t){let n=Object.keys(t);2===n.length&&"name"===n[0]&&"detailsUrl"===n[1]&&e.push(t)}}function l(e){a(e).then(function(){c(e),console.log(e)})}function a(e){n();let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){i(),e.frontImageUrl=t.sprites.front_default,e.backImageUrl=t.sprites.back_default,e.height=t.height,e.weight=t.weight,e.types=[],t.types.forEach(function(t){e.types.push(t.type.name)}),e.abilities=[],t.abilities.forEach(function(t){e.abilities.push(t.ability.name)})}).catch(function(e){i(),console.error(e)})}function c(e){let t=document.querySelector(".modal-title"),n=document.querySelector(".modal-body");t.innerText="",n.innerText="";let i=document.createElement("h1");i.innerText=e.name;let o=document.createElement("img");o.classList.add("modal-img"),o.setAttribute("src",e.frontImageUrl);let l=document.createElement("img");l.classList.add("modal-img"),l.setAttribute("src",e.backImageUrl);let a=document.createElement("p");a.innerText="Height: "+e.height;let c=document.createElement("p");c.innerText="Weight: "+e.weight;let r=document.createElement("p");r.innerText="Types: "+e.types;let d=document.createElement("p");d.innerText="Abilities: "+e.abilities,t.appendChild(i),n.appendChild(o),n.appendChild(l),n.appendChild(a),n.appendChild(c),n.appendChild(r),n.appendChild(d)}return{add:o,getAll:function(){return e},addListItem:function(e,t){let n=document.createElement("li");n.classList.add("list-group-item","col-lg-2","col-md-4","col-sm-12");let i=document.createElement("button");i.innerText=e.name,i.classList.add("pokemon-list-button","btn"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#pokemonModal"),n.appendChild(i),t.appendChild(n),function(e,t){e.addEventListener("click",function(){l(t)})}(i,e)},loadList:function(){return n(),fetch(t).then(function(e){return e.json()}).then(function(e){i(),e.results.forEach(function(e){o({name:e.name,detailsUrl:e.url})})}).catch(function(e){i(),console.error(e)})},loadDetails:a,showDetails:l,showLoadingMessage:n,hideLoadingMessage:i,showModal:c,filterByName:function(t){return e.filter(e=>e.name===t.name)}}}();pokemonRepository.loadList().then(function(){let e=document.createElement("div");pokemonRepository.getAll().forEach(function(t,n){let i=document.querySelector(".pokemon-list");0===n&&(e.classList.add("row"),i.append(e)),pokemonRepository.addListItem(t,e)})});