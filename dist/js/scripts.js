const pokemonRepository=function(){const e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150";function n(){const e=document.createElement("div");e.classList.add("loading-message-container");const t=document.createElement("p");t.classList.add("loading-message"),t.innerText="Loading...";const n=document.querySelector("main"),o=document.querySelector(".pokemon-list");e.appendChild(t),n.insertBefore(e,o)}function o(){const e=document.querySelector(".loading-message");e.parentElement.removeChild(e)}function i(t){if("object"==typeof t&&null!==t){const n=Object.keys(t);2===n.length&&"name"===n[0]&&"detailsUrl"===n[1]&&e.push(t)}}function c(e){a(e).then(function(){s(e),console.log(e)})}function a(e){n();const t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){o(),e.frontImageUrl=t.sprites.front_default,e.backImageUrl=t.sprites.back_default,e.height=t.height,e.weight=t.weight,e.types=[],t.types.forEach(function(t){e.types.push(t.type.name)}),e.abilities=[],t.abilities.forEach(function(t){e.abilities.push(t.ability.name)})}).catch(function(e){o(),console.error(e)})}function s(e){const t=document.querySelector(".modal-title"),n=document.querySelector(".modal-body");t.innerText="",n.innerText="";const o=document.createElement("h1");o.innerText=e.name;const i=document.createElement("img");i.classList.add("modal-img"),i.setAttribute("src",e.frontImageUrl);const c=document.createElement("img");c.classList.add("modal-img"),c.setAttribute("src",e.backImageUrl);const a=document.createElement("p");a.innerText="Height: "+e.height;const s=document.createElement("p");s.innerText="Weight: "+e.weight;const l=document.createElement("p");l.innerText="Types: "+e.types;const r=document.createElement("p");r.innerText="Abilities: "+e.abilities,t.appendChild(o),n.appendChild(i),n.appendChild(c),n.appendChild(a),n.appendChild(s),n.appendChild(l),n.appendChild(r)}return{add:i,getAll:function(){return e},addListItem:function(e,t){const n=document.createElement("li");n.classList.add("list-group-item","col-lg-2","col-md-4","col-sm-12");const o=document.createElement("button");o.innerText=e.name,o.classList.add("pokemon-list-button","btn"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#pokemonModal"),n.appendChild(o),t.appendChild(n),function(e,t){e.addEventListener("click",function(){c(t)})}(o,e)},loadList:function(){return n(),fetch(t).then(function(e){return e.json()}).then(function(e){o(),e.results.forEach(function(e){i({name:e.name,detailsUrl:e.url})})}).catch(function(e){o(),console.error(e)})},loadDetails:a,showDetails:c,showLoadingMessage:n,hideLoadingMessage:o,showModal:s,filterByName:function(t){return e.filter(e=>e.name===t.name)}}}();pokemonRepository.loadList().then(function(){const e=document.createElement("div");pokemonRepository.getAll().forEach(function(t,n){const o=document.querySelector(".pokemon-list");0===n&&(e.classList.add("row"),o.appendChild(e)),pokemonRepository.addListItem(t,e)})});